version: 2

models:
  - name: web_events
    description: Contains a record for each event committed by a user on the web store

    meta:
        contains_pii: false
        owner: Data Analytics
        subject_matter_expert: Rob Hill

    columns:
      - name: web_event_wid
        description: Primary Key generated by the data warehouse, 
        tests:
          - unique
          - not_null

      - name: web_event_id
        description: The web event ID, unique identifier for the event
        tests:
          - not_null

      - name: web_event_cookie_id
        description: < 
          Device identifier used to indicate a website visitor. For a new visitor, this value is set in the userâ€™s browser cookies
        tests:
          - not_null

      - name: web_event_customer_id
        description: <
          Unique identifier to indicate a customer. This value is null if the user is an anonymous web visitor

      - name: web_event_name
        description: The event name that indicates how user interacted with the website

      - name: web_event_url
        description: The URL on which the event occurred

      - name: web_event_utm_campaign
        description: The campaign that referred the user

      - name: web_event_utm_medium
        description: The medium that referred the user

      - name: web_event_utm_source
        description: The source that referred the user

      - name: web_session_wid
        description: <
          The web session warehouse id, generated by the data warehoue to identify unique web sessions per user
        tests: 
          - not_null		

      - name: web_session_start_time
        description: The timestamp of the first event of a session

      - name: web_session_user
        description: < 
          The first known customer_id that is associated with the cookie of the web session. 
          If the session user has no known customer_id then default to the cookie_id. 
        tests: 
          - not_null

      - name: web_session_landing_page_url
        description: The first event URL of a session

      - name: web_session_medium
        description: The first utm medium of a session

      - name: web_session_source
        description: The first utm source of a session

      - name: web_session_campaign
        description: The first utm campaign of a session