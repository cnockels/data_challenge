version: 2

models:
  - name: web_sessions
    description: Contains a record for each web session on the web store

    meta:
        contains_pii: false
        owner: Data Analytics
        subject_matter_expert: Rob Hill

    columns:
      - name: web_session_wid
        description: <
          The web session warehouse id, generated by the data warehoue to identify unique web sessions per user
        tests:
          - unique
          - not_null

      - name: web_session_start_time
        description: The timestamp of the first event of a session
          - not_null
  
      - name: web_session_date
        description: The date of the first event of a session
 
      - name: web_session_user
        description: < 
          The first known customer_id that is associated with the cookie of the web session. 
          If the session user has no known customer_id then default to the cookie_id. 
        tests:
          - not_null          

      - name: web_session_landing_page_url
        description: The first event URL of a session

      - name: web_session_medium
        description: The first utm medium of a session

      - name: web_session_source
        description: The first utm source of a session

      - name: web_session_campaign
        description: The first utm campaign of a session